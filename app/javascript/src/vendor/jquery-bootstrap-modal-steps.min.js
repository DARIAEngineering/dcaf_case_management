!function(a){"use strict";a.fn.modalSteps=function(b){var c=this,d=a.extend({btnCancelHtml:"Cancel",btnPreviousHtml:"Previous",btnNextHtml:"Next",btnLastStepHtml:"Complete",disableNextButton:!1,completeCallback:function(){},callbacks:{}},b),e=function(){var a=d.callbacks["*"];if(void 0!==a&&"function"!=typeof a)throw"everyStepCallback is not a function! I need a function";if("function"!=typeof d.completeCallback)throw"completeCallback is not a function! I need a function";for(var b in d.callbacks)if(d.callbacks.hasOwnProperty(b)){var c=d.callbacks[b];if("*"!==b&&void 0!==c&&"function"!=typeof c)throw"Step "+b+" callback must be a function"}},f=function(a){return void 0!==a&&"function"==typeof a?(a(),!0):!1};return c.on("show.bs.modal",function(){var b,g,h,i,j,k=c.find(".modal-footer"),l=k.find(".js-btn-step[data-orientation=cancel]"),m=k.find(".js-btn-step[data-orientation=previous]"),n=k.find(".js-btn-step[data-orientation=next]"),o=d.callbacks["*"],p=d.callbacks[1];d.disableNextButton&&n.attr("disabled","disabled"),m.attr("disabled","disabled"),e(),f(o),f(p),l.html(d.btnCancelHtml),m.html(d.btnPreviousHtml),n.html(d.btnNextHtml),g=a("<input>").attr({type:"hidden",id:"actual-step",value:"1"}),c.find("#actual-step").remove(),c.append(g),b=1,j=b+1,c.find("[data-step="+b+"]").removeClass("hide"),n.attr("data-step",j),h=c.find("[data-step="+b+"]").data("title"),i=a("<span>").addClass("label label-success").html(b),c.find(".js-title-step").append(i).append(" "+h)}).on("hidden.bs.modal",function(){var a=c.find("#actual-step"),b=c.find(".js-btn-step[data-orientation=next]");c.find("[data-step]").not(c.find(".js-btn-step")).addClass("hide"),a.not(c.find(".js-btn-step")).remove(),b.attr("data-step",1).html(d.btnNextHtml),c.find(".js-title-step").html("")}),c.find(".js-btn-step").on("click",function(){var b,e,g,h,i=a(this),j=c.find("#actual-step"),k=c.find(".js-btn-step[data-orientation=previous]"),l=c.find(".js-btn-step[data-orientation=next]"),m=c.find(".js-title-step"),n=i.data("orientation"),o=parseInt(j.val()),p=d.callbacks["*"];if(b=c.find("div[data-step]").length,"complete"===i.attr("data-step"))return d.completeCallback(),void c.modal("hide");if("next"===n)e=o+1,k.attr("data-step",o),j.val(e);else{if("previous"!==n)return void c.modal("hide");e=o-1,l.attr("data-step",o),k.attr("data-step",e-1),j.val(o-1)}parseInt(j.val())===b?l.attr("data-step","complete").html(d.btnLastStepHtml):l.attr("data-step",e).html(d.btnNextHtml),d.disableNextButton&&l.attr("disabled","disabled"),c.find("[data-step="+o+"]").not(c.find(".js-btn-step")).addClass("hide"),c.find("[data-step="+e+"]").not(c.find(".js-btn-step")).removeClass("hide"),parseInt(k.attr("data-step"))>0?k.removeAttr("disabled"):k.attr("disabled","disabled"),"previous"===n&&l.removeAttr("disabled"),g=c.find("[data-step="+e+"]"),g.attr("data-unlock-continue")&&l.removeAttr("disabled"),h=g.attr("data-title");var q=a("<span>").addClass("label label-success").html(e);m.html(q).append(" "+h);var r=d.callbacks[j.val()];f(p),f(r)}),this}}(jQuery);